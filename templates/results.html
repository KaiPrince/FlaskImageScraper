<!--
* Project Name: FlaskImageScraper
* File Name: results.html
* Programmer: Kai Prince
* Date: Sat, May 02, 2020
* Description: This file contains the results page.
-->

{% extends "base.html" %} {% from "components/search_form.html" import
search_form %} {% block title %}Results{% endblock %} {% block content %}
<h1 class="h4"><a href="{{source}}" class="text-reset">{{source}}</a></h1>

<div class="row align-items-center my-4">
  <div class="col-md-4">
    {{ search_form(button_text="Scrape again") }}
  </div>
</div>

{% for page, complete in collected_media %} {% if not loop.first %}
<h2 class="lead mt-4">
  <a href="/scrape/{{page.page_url}}" class="text-reset">{{page.page_title}}</a>
</h2>
<hr class="mt-0" />
{% endif %}
<div class="row">
  {% for image in page.images %}
  <div class="col-3">
    <a href="{{image}}"> <img src="{{image}}" class="img-thumbnail" /></a>
  </div>
  {% endfor %} {% for video in page.videos %}
  <div class="col-4">
    <a href="{{video}}">
      <video
        src="{{video}}"
        class="img-thumbnail"
        autoplay
        muted
        controls
        playsinline
        loop
      ></video>
    </a>
  </div>
  {% endfor %}
</div>
{% if not complete %}
<small class="text-muted">
  <a href="/scrape/{{page.page_url}}" class="text-reset">Show more...</a>
</small>
{% endif %} {% endfor %} {% endblock %}
